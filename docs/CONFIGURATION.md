# Configuration Guide

MAGI follows zero-config philosophy: configure once in `.env`, everything auto-wires on boot.

## Environment Variables

### LLM Providers

```bash
OPENAI_API_KEY=your_openai_key
ANTHROPIC_API_KEY=your_anthropic_key
OPENROUTER_API_KEY=your_openrouter_key

# OpenRouter attribution (optional)
OPENROUTER_SITE_URL=http://localhost:3000
OPENROUTER_APP_NAME=MAGI - Multi-Agent General Intelligence

# Local Ollama (optional)
OLLAMA_API_BASE=http://host.docker.internal:11434
```

### Tool API Keys

```bash
TAVILY_API_KEY=tvly-your-key          # https://tavily.com
FIRECRAWL_API_KEY=fc-your-key         # Auto-generated for self-hosted
```

### Admin Credentials

```bash
MAGI_ADMIN_EMAIL=admin@example.com
MAGI_ADMIN_PASSWORD=YourSecurePassword123
```

### Auto-Generated (do not modify)

```bash
LITELLM_MASTER_KEY=sk-rin-auto-generated
SEARXNG_SECRET=auto-generated-secret
```

## Service Selection

### Interactive Mode

On first run, `./start.sh` prompts which services to enable.

### Manual Configuration

```bash
ENABLE_FIRECRAWL=Y  # Set to N to disable
```

**Disable FireCrawl when:**
- Using Tavily API instead
- Reducing resource usage
- FireCrawl has Docker-in-Docker issues

## FireCrawl Options

### Cloud API (Recommended)

```bash
FIRECRAWL_API_URL=https://api.firecrawl.dev
FIRECRAWL_API_KEY=fc-your-api-key
```

### Self-Hosted

- Runs as Docker container
- Key auto-generated by start.sh
- Requires PostgreSQL/RabbitMQ (may not work in all environments)

## Port Configuration

```bash
PORT_WEBUI=3000
PORT_LITELLM=4000
PORT_SEARXNG=8080
PORT_FIRECRAWL=3002
PORT_N8N=5678
PORT_QDRANT=6333
PORT_MCP_BRIDGE=9000
PORT_YOUTUBE_MCP=9001
```

## HTTPS

```bash
ENABLE_HTTPS=true
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
```

See [HTTPS_CONFIGURATION.md](HTTPS_CONFIGURATION.md) for details.
